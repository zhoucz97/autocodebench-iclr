#!/bin/bash

quicksort() {
    local arr=("$@")
    local len=${#arr[@]}
    
    if [ $len -le 1 ]; then
        echo "${arr[@]}"
        return
    fi
    
    local pivot=${arr[0]}
    local rest=("${arr[@]:1}")
    local less=()
    local greater=()
    
    for num in "${rest[@]}"; do
        if [ $num -lt $pivot ]; then
            less+=($num)
        else
            greater+=($num)
        fi
    done
    
    local sorted_less=($(quicksort "${less[@]}"))
    local sorted_greater=($(quicksort "${greater[@]}"))
    
    echo "${sorted_less[@]}" $pivot "${sorted_greater[@]}"
}

assert_equal() {
    local result1="$1"
    local result2="$2"
    if [ "$result1" != "$result2" ]; then
        exit 1
    fi
}

check_quicksort() {
    assert_equal "$(quicksort 3 1 4 1 5 9 2 6 5 3 5)" "1 1 2 3 3 4 5 5 5 6 9"
    assert_equal "$(quicksort 5 4 3 2 1)" "1 2 3 4 5"
    assert_equal "$(quicksort)" ""
    assert_equal "$(quicksort 1)" "1"
}

check_quicksort
